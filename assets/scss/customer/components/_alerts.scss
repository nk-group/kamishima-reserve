//==========================================================================
// Customer Alert Component Styles
//==========================================================================

@use '../base/variables' as var;

//--------------------------------------------------------------------------
// Base Alert Styles (Bootstrap Extension)
//--------------------------------------------------------------------------
.alert {
  padding: var.$spacer;
  margin-bottom: var.$spacer;
  border: 1px solid transparent;
  border-radius: var.$card-border-radius;
  font-size: var.$font-size-base;
  line-height: var.$line-height-base;
}

.alert-dismissible {
  padding-right: calc(var.$spacer * 2 + 24px); // Space for close button
}

//--------------------------------------------------------------------------
// Alert Variants
//--------------------------------------------------------------------------

// Success Alert (e.g., 予約完了)
.alert-success {
  background-color: var.$availability-full-bg;
  border-color: var.$availability-full;
  color: var.$clear-green;
  
  .alert-heading {
    color: var.$clear-green;
    font-weight: var.$font-weight-semibold;
    margin-bottom: var.$spacer * 0.5;
  }
}

// Error Alert (e.g., バリデーションエラー)
.alert-danger {
  background-color: var.$availability-none-bg;
  border-color: var.$availability-none;
  color: var.$clear-red;
  
  .alert-heading {
    color: var.$clear-red;
    font-weight: var.$font-weight-semibold;
    margin-bottom: var.$spacer * 0.5;
  }
  
  ul {
    margin-bottom: 0;
    padding-left: var.$spacer * 1.5;
  }
  
  li {
    margin-bottom: var.$spacer * 0.25;
  }
}

// Warning Alert (e.g., 注意事項)
.alert-warning {
  background-color: var.$availability-limited-bg;
  border-color: var.$availability-limited;
  color: var.$clear-orange;
  
  .alert-heading {
    color: var.$clear-orange;
    font-weight: var.$font-weight-semibold;
    margin-bottom: var.$spacer * 0.5;
  }
}

// Info Alert (e.g., お知らせ)
.alert-info {
  background-color: var.$clear-blue-pale;
  border-color: var.$clear-blue;
  color: var.$clear-blue-dark;
  
  .alert-heading {
    color: var.$clear-blue-dark;
    font-weight: var.$font-weight-semibold;
    margin-bottom: var.$spacer * 0.5;
  }
}

//--------------------------------------------------------------------------
// Status Badges (for display within alerts or standalone)
//--------------------------------------------------------------------------
.status-badge {
  display: inline-block;
  padding: 6px 14px;
  font-size: 0.8rem;
  font-weight: 600;
  white-space: nowrap;
  border-radius: 20px;

  &.status-available {
    background: var.$availability-full-bg;
    color: var.$availability-full;
  }
  
  &.status-limited {
    background: var.$availability-limited-bg;
    color: var.$availability-limited;
  }
  
  &.status-full {
    background: var.$availability-none-bg;
    color: var.$availability-none;
  }
  
  &.status-closed {
    background: var.$gray-200;
    color: var.$availability-closed;
  }
}

//--------------------------------------------------------------------------
// Reservation Status Messages (Clear車検特化)
//--------------------------------------------------------------------------
.reservation-alert {
  border-left: 4px solid;
  padding-left: var.$spacer * 1.5;
  
  &.reservation-success {
    border-left-color: var.$clear-green;
    background-color: var.$availability-full-bg;
    
    .reservation-number {
      font-size: var.$font-size-lg;
      font-weight: var.$font-weight-bold;
      color: var.$clear-green;
      display: block;
      margin: var.$spacer * 0.5 0;
    }
  }
  
  &.reservation-warning {
    border-left-color: var.$clear-orange;
    background-color: var.$availability-limited-bg;
  }
}

//--------------------------------------------------------------------------
// Form Validation Messages
//--------------------------------------------------------------------------
.invalid-feedback {
  display: none;
  width: 100%;
  margin-top: var.$spacer * 0.25;
  font-size: var.$font-size-sm;
  color: var.$clear-red;
}

.was-validated .form-control:invalid ~ .invalid-feedback,
.was-validated .form-select:invalid ~ .invalid-feedback {
  display: block;
}

.valid-feedback {
  display: none;
  width: 100%;
  margin-top: var.$spacer * 0.25;
  font-size: var.$font-size-sm;
  color: var.$clear-green;
}

.was-validated .form-control:valid ~ .valid-feedback,
.was-validated .form-select:valid ~ .valid-feedback {
  display: block;
}

//--------------------------------------------------------------------------
// Close Button (for dismissible alerts)
//--------------------------------------------------------------------------
.btn-close {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 2;
  padding: calc(var.$spacer * 0.75);
  color: inherit;
  background: transparent;
  border: 0;
  border-radius: 0;
  opacity: 0.5;
  cursor: pointer;
  
  &:hover {
    opacity: 0.75;
  }
  
  &:focus {
    outline: 2px solid var.$clear-blue;
    outline-offset: 2px;
    opacity: 1;
  }
}

//--------------------------------------------------------------------------
// Responsive Adjustments
//--------------------------------------------------------------------------
@media (max-width: var.$breakpoint-sm) {
  .alert {
    padding: var.$spacer * 0.75;
    font-size: var.$font-size-sm;
  }
  
  .alert-dismissible {
    padding-right: calc(var.$spacer * 1.5 + 20px);
  }
  
  .btn-close {
    padding: calc(var.$spacer * 0.5);
  }
  
  .reservation-number {
    font-size: var.$font-size-base;
  }
}