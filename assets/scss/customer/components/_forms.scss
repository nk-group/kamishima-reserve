//==========================================================================
// Customer Form Component Styles - Clear車検予約システム顧客向け
//==========================================================================

@use '../base/variables' as var;

//--------------------------------------------------------------------------
// Form Labels
//--------------------------------------------------------------------------
.form-label {
  color: var.$text-color;
  font-weight: 600;
  margin-bottom: 8px;
  display: block;
  font-size: 0.9rem;

  // 必須マーク
  .required {
    color: var.$required-color;
    font-weight: bold;
    margin-left: 4px;
  }
}

//--------------------------------------------------------------------------
// Form Controls (input, select, textarea)
//--------------------------------------------------------------------------
.form-control,
.form-select {
  border: 2px solid var.$form-border-color;
  border-radius: var.$form-border-radius;
  padding: var.$form-padding-y var.$form-padding-x;
  transition: var.$transition-base;
  background: var.$white;
  font-size: var.$font-size-base;
  width: 100%;
  min-height: 48px; // タッチ操作対応

  &:focus {
    border-color: var.$form-focus-border-color;
    box-shadow: var.$form-focus-box-shadow;
    outline: none;
  }

  &::placeholder {
    color: var.$text-muted;
    opacity: 0.7;
  }

  &:disabled {
    background-color: var.$gray-100;
    color: var.$text-muted;
    cursor: not-allowed;
  }
}

// セレクトボックス特有スタイル
.form-select {
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23495057' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right var.$form-padding-x center;
  background-size: 16px 12px;
  padding-right: calc(var.$form-padding-x * 2 + 16px);
}

// テキストエリア
textarea.form-control {
  height: auto;
  min-height: calc(48px * 2);
  padding-top: 12px;
  resize: vertical;
}

//--------------------------------------------------------------------------
// Form Groups
//--------------------------------------------------------------------------
.form-group {
  margin-bottom: var.$spacer;

  &:last-child {
    margin-bottom: 0;
  }
}

//--------------------------------------------------------------------------
// Input Groups (アドオン付きinput)
//--------------------------------------------------------------------------
.input-group {
  display: flex;
  width: 100%;

  .input-group-text {
    background: var.$gray-100;
    border: 2px solid var.$form-border-color;
    border-right: none;
    padding: var.$form-padding-y var.$form-padding-x;
    font-size: var.$font-size-base;
    color: var.$text-color;
    border-radius: var.$form-border-radius 0 0 var.$form-border-radius;
  }

  .form-control {
    border-left: none;
    border-radius: 0 var.$form-border-radius var.$form-border-radius 0;
  }
}

//--------------------------------------------------------------------------
// Form Validation States
//--------------------------------------------------------------------------
.was-validated .form-control:valid,
.form-control.is-valid {
  border-color: var.$success;

  &:focus {
    border-color: var.$success;
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
  }
}

.was-validated .form-control:invalid,
.form-control.is-invalid {
  border-color: var.$danger;

  &:focus {
    border-color: var.$danger;
    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
  }
}

.valid-feedback {
  color: var.$success;
  font-size: 0.875rem;
  margin-top: 4px;
}

.invalid-feedback {
  color: var.$danger;
  font-size: 0.875rem;
  margin-top: 4px;
}

//--------------------------------------------------------------------------
// レスポンシブ対応
//--------------------------------------------------------------------------
@media (max-width: var.$breakpoint-md) {
  .form-control,
  .form-select {
    font-size: max(16px, var.$font-size-base); // iOS zoom防止
  }
}